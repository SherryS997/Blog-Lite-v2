(function(){"use strict";var t={4447:function(t,e,s){var o=s(9242),a=s(3396),i=s(7139);const l={class:"navbar navbar-dark navbar-expand-md sticky-top bg-dark py-3"},r={class:"container"},n={class:"navbar-brand d-flex align-items-center",href:"#"},c=(0,a._)("span",null,"Blog Lite",-1),d={key:0,class:"navbar-toggler","data-bs-toggle":"collapse","data-bs-target":"#navcol-5"},u=(0,a._)("span",{class:"visually-hidden"},"Toggle navigation",-1),p=(0,a._)("span",{class:"navbar-toggler-icon"},null,-1),h=[u,p],m={key:1,id:"navcol-5",class:"collapse navbar-collapse"},g={key:0,class:"navbar-text"},w={key:1,class:"navbar-nav ms-auto"},b={class:"nav-item"},f={class:"nav-item"},v={class:"nav-item"},y={class:"nav-item"},k={key:2,class:"navbar-nav ms-auto"},_={class:"navbar-text",style:{"margin-right":"-18px","padding-right":"0px","margin-bottom":"-8px","margin-top":"-8px"}},x=["src"],D={class:"ms-md-2"},S={key:2},U={class:"navbar-nav ms-auto"},A={class:"nav-item"};function P(t,e,s,u,p,P){const C=(0,a.up)("router-link"),Z=(0,a.up)("router-view"),F=(0,a.up)("NoInternet");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",l,[(0,a._)("div",r,[(0,a._)("a",n,[(0,a.Wm)(C,{to:"/",class:"home"},{default:(0,a.w5)((()=>[c])),_:1})]),P.isOnline&&"notfound"!=t.$route.name&&"analytics"!=t.$route.name&&"follows"!=t.$route.name&&"followers"!=t.$route.name&&"search"!=t.$route.name&&"blogEdit"!=t.$route.name&&"upload"!=t.$route.name&&"login"!=t.$route.name&&"post"!=t.$route.name&&"account"!=t.$route.name?((0,a.wg)(),(0,a.iD)("button",d,h)):(0,a.kq)("",!0),P.isOnline&&"search"!=t.$route.name&&"notfound"!=t.$route.name&&"analytics"!=t.$route.name&&"follows"!=t.$route.name&&"followers"!=t.$route.name&&"blogEdit"!=t.$route.name&&"upload"!=t.$route.name&&"login"!=t.$route.name&&"post"!=t.$route.name&&"account"!=t.$route.name?((0,a.wg)(),(0,a.iD)("div",m,[P.userSes?((0,a.wg)(),(0,a.iD)("span",g,"Welcome "+(0,i.zw)(this.compUsername),1)):(0,a.kq)("",!0),p.userSession?((0,a.wg)(),(0,a.iD)("ul",w,[(0,a._)("li",b,[this.compDiscover?((0,a.wg)(),(0,a.iD)("a",{key:1,class:"nav-link active",href:"#",onClick:e[1]||(e[1]=t=>P.undiscover())}," Home ")):((0,a.wg)(),(0,a.iD)("a",{key:0,class:"nav-link active",href:"#",onClick:e[0]||(e[0]=t=>P.undiscover())}," Discover "))]),(0,a._)("li",f,[(0,a.Wm)(C,{class:"nav-link active",to:"/upload"},{default:(0,a.w5)((()=>[(0,a.Uk)("Upload")])),_:1})]),(0,a._)("li",v,[(0,a.Wm)(C,{class:"nav-link active",onClick:P.logout,to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Log out")])),_:1},8,["onClick"])]),(0,a._)("li",y,[(0,a.wy)((0,a._)("input",{class:"border rounded border border-dark",style:{"margin-top":"7px","margin-left":"0px","margin-right":"15px","margin-bottom":"7px"},type:"search",name:"search",placeholder:"Search",onKeyup:e[2]||(e[2]=(0,o.D2)(((...t)=>P.handleKeyPress&&P.handleKeyPress(...t)),["enter"])),"onUpdate:modelValue":e[3]||(e[3]=t=>this.search=t),required:""},null,544),[[o.nr,this.search]])])])):((0,a.wg)(),(0,a.iD)("ul",k)),(0,a._)("span",_,[p.userSession?((0,a.wg)(),(0,a.iD)("img",{key:0,alt:"User Image",class:"rounded-circle flex-shrink-0 me-3",style:{"object-fit":"cover"},width:"36",height:"36",src:P.userImg},null,8,x)):(0,a.kq)("",!0)]),(0,a._)("div",D,[null==P.userSes?((0,a.wg)(),(0,a.j4)(C,{key:0,class:"btn btn-primary ms-md-2",to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)("Login ")])),_:1})):P.userSes?((0,a.wg)(),(0,a.j4)(C,{key:1,class:"btn btn-primary ms-md-2",to:this.account},{default:(0,a.w5)((()=>[(0,a.Uk)("My Account ")])),_:1},8,["to"])):(0,a.kq)("",!0)])])):((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("ul",U,[(0,a._)("li",A,[P.isOnline?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-secondary",onClick:e[4]||(e[4]=(...t)=>P.goBack&&P.goBack(...t))}," < Back ")):(0,a.kq)("",!0)])])]))])]),P.isOnline?((0,a.wg)(),(0,a.j4)(Z,{key:0,discover:this.compDiscover},null,8,["discover"])):((0,a.wg)(),(0,a.j4)(F,{key:1}))],64)}s(7658);var C=s(4161);const Z={class:"container py-4 py-xl-5"},F=(0,a._)("div",{class:"row mb-5"},[(0,a._)("div",{class:"col-md-8 col-xl-6 text-center mx-auto"},[(0,a._)("h2",null,"Server Down!"),(0,a._)("p",null," Sorry, but we are not able to access the server. Please check your internet connection and try again. ")])],-1),I=[F];function q(t,e,s,o,i,l){return(0,a.wg)(),(0,a.iD)("div",Z,I)}var z={name:"NoInternet"},$=s(89);const j=(0,$.Z)(z,[["render",q]]);var N=j,O={components:{NoInternet:N},data(){return{serverStatus:!1,search:"",userSession:JSON.parse(localStorage.getItem("userSession"))||null,discover:!1,user:null}},methods:{logout(){this.userSession=null,localStorage.removeItem("userSession"),location.reload()},handleKeyPress(){this.$router.push({name:"search",params:{term:this.search}}),this.search=""},async fetchData(){this.userSes&&(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z.get("http://192.168.1.8:2345/vueapp/token").then((t=>t)).then((t=>{this.user=t.data})).catch((()=>{}))),fetch("http://192.168.1.8:2345/").then((t=>{t.ok?this.serverStatus=!0:this.serverStatus=!1})).catch((()=>{this.serverStatus=!1})),this.$forceUpdate()},undiscover(){this.discover=!this.discover},goBack(){this.$router.go(-1)}},computed:{isOnline(){return this.serverStatus},compDiscover(){return this.discover},userSes(){return this.userSession},account(){return this.user?"/account/"+this.compUsername:""},userImg(){return this.user?"http://192.168.1.8:2345/static/img/Users/"+this.user.img+".webp":s(162)},compUsername(){return this.user?this.user.username:""}},async beforeMount(){if(this.fetchData(),this.userSession){const t=Date.parse(this.userSession.exp);t<Date.now()&&this.logout()}},mounted(){setInterval((()=>{fetch("http://192.168.1.8:2345/").then((t=>{t.ok?this.serverStatus=!0:this.serverStatus=!1})).catch((()=>{this.serverStatus=!1}))}),5e3)}};const B=(0,$.Z)(O,[["render",P]]);var L=B,T=s(5431);(0,T.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var E=s(2483);const M={class:"home"};function W(t,e,s,i,l,r){const n=(0,a.up)("HomePage");return(0,a.wg)(),(0,a.iD)("div",M,[(0,a.wy)((0,a.Wm)(n,{posts:r.readyDiscoverPosts,discover:!0,user:this.compUser,onUpdateData:r.updateData},null,8,["posts","user","onUpdateData"]),[[o.F8,this.readyDiscover]]),(0,a.wy)((0,a.Wm)(n,{posts:r.readyHomePosts,discover:!1,user:this.compUser,onUpdateData:r.updateData},null,8,["posts","user","onUpdateData"]),[[o.F8,!this.readyDiscover]])])}const H={class:"container py-4 py-xl-5"},V={class:"row mb-5"},R={class:"col-md-8 col-xl-6 text-center mx-auto"},Y={key:0,class:"row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3"},J={key:1};function K(t,e,s,i,l,r){const n=(0,a.up)("post-short");return(0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("div",V,[(0,a._)("div",R,[(0,a.wy)((0,a._)("h2",null,"Latest Articles",512),[[o.F8,this.discover]]),(0,a.wy)((0,a._)("h2",null," Latest Articles from your follows ",512),[[o.F8,!this.discover&&this.loadedPosts.length>0]]),(0,a.wy)((0,a._)("h2",null," Checkout the Discover Page for the Latest Articles ",512),[[o.F8,0==this.loadedPosts.length&&!this.discover]])])]),this.loadedPosts?((0,a.wg)(),(0,a.iD)("div",Y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.loadedPosts,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col",key:t},[(0,a.Wm)(n,{post:t.post,user:t.user,cur:this.loadedUser,onUpdateData:r.updateData},null,8,["post","user","cur","onUpdateData"])])))),128))])):((0,a.wg)(),(0,a.iD)("div",J,"Loading"))])}const G={class:"card"},Q=["src"],X={class:"card-body p-4"},tt=(0,a._)("p",{class:"text-primary card-text mb-0"},"Article",-1),et={class:"card-title"},st={class:"card-text",style:{"margin-bottom":"0px"}},ot={class:"d-flex",style:{"margin-top":"10px"}},at=["src"],it={class:"fw-bold mb-0"},lt={class:"text-muted mb-0"},rt={class:"row"},nt={key:0,class:"btn-group",role:"group",style:{"margin-bottom":"5px","margin-top":"5px","padding-left":"15px"}},ct=["disabled"],dt=(0,a._)("i",{class:"bi bi-heart-fill"},null,-1),ut=["disabled"],pt=(0,a._)("i",{class:"bi bi-heart-fill"},null,-1);function ht(t,e,s,o,l,r){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",G,[(0,a._)("img",{alt:"Post Image",class:"card-img-top w-100 d-block",style:{"object-fit":"cover",height:"200px"},src:this.postImg},null,8,Q),(0,a._)("div",X,[tt,(0,a._)("h4",et,(0,i.zw)(s.post.title),1),(0,a._)("p",st,(0,i.zw)(s.post.text.slice(0,120)+"..."),1),(0,a._)("span",null,[(0,a.Wm)(n,{to:{name:"post",params:{id:s.post.roll}}},{default:(0,a.w5)((()=>[(0,a.Uk)("Read More")])),_:1},8,["to"])]),(0,a._)("div",ot,[(0,a._)("img",{alt:"User Image",class:"rounded-circle flex-shrink-0 me-3",style:{"object-fit":"cover"},width:"50",height:"50",src:this.userImg},null,8,at),(0,a._)("div",null,[(0,a.Wm)(n,{to:r.accountUrl,class:(0,i.C_)({disabled:r.isLinkDisabled})},{default:(0,a.w5)((()=>[(0,a._)("p",it,(0,i.zw)(s.post.author),1)])),_:1},8,["to","class"]),(0,a._)("p",lt,(0,i.zw)(s.post.date),1)]),(0,a._)("div",rt,[this.isLinkDisabled?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",nt,[this.compLike?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"btn btn-danger",disabled:!(this.userSession&&this.username!=s.post.author),onClick:e[0]||(e[0]=(...t)=>r.like&&r.like(...t))},[dt,(0,a.Uk)(" "+(0,i.zw)(s.post.likes),1)],8,ct)):((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",class:"btn btn-primary",disabled:!(this.userSession&&this.username!=s.post.author),onClick:e[1]||(e[1]=(...t)=>r.like&&r.like(...t))},[pt,(0,a.Uk)(" "+(0,i.zw)(s.post.likes),1)],8,ut)),this.compFollowed?((0,a.wg)(),(0,a.iD)("button",{key:2,class:"btn btn-danger",style:{"margin-left":"5px"},onClick:e[2]||(e[2]=(...t)=>r.follow&&r.follow(...t))}," Followed! ")):this.compUnfollowed?((0,a.wg)(),(0,a.iD)("button",{key:3,class:"btn btn-primary",style:{"margin-left":"5px"},onClick:e[3]||(e[3]=(...t)=>r.follow&&r.follow(...t))}," Follow ")):(0,a.kq)("",!0)]))])])])])}var mt={name:"postShort",data(){return{userSession:JSON.parse(localStorage.getItem("userSession"))||null,followed:!1,liked:!1}},props:{post:{type:Object,required:!0},user:{type:Object,required:!0},cur:{type:Object,required:!0}},methods:{async like(){this.userSession&&(this.compLike?(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z["delete"]("http://192.168.1.8:2345/vueapp/like/"+this.post.roll).catch((()=>{})),this.liked=!this.liked):(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z.post("http://192.168.1.8:2345/vueapp/like/"+this.post.roll).catch((()=>{})),this.liked=!this.liked),this.$emit("updateData"))},async follow(){this.compFollow?(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z["delete"]("http://192.168.1.8:2345/vueapp/user/"+this.post.author+"/follows").catch((()=>{})),this.followed=!this.followed):(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z.post("http://192.168.1.8:2345/vueapp/user/"+this.post.author+"/follows").catch((()=>{})),this.followed=!this.followed),this.$emit("updateData")},async fetchData(){this.userSession&&(await C.Z.get(`http://192.168.1.8:2345/vueapp/${this.username}/follows/${this.user.username}`).then((t=>t)).then((t=>t.data)).then((t=>{this.followed="true"==t.status})).catch((()=>{})),await C.Z.get("http://192.168.1.8:2345/vueapp/likes/"+this.username+"/"+this.post.roll).then((t=>t)).then((t=>t.data)).then((t=>{this.liked="true"==t.status})).catch((()=>{}))),this.$forceUpdate()}},async beforeMount(){this.fetchData()},computed:{compFollow(){return this.followed},compFollowed(){return this.followed&&this.userSession&&this.username!=this.post.author},compUnfollowed(){return!this.followed&&this.userSession&&this.username!=this.post.author},compLike(){return this.liked},username(){return this.userSession?this.cur.username:""},accountUrl(){return"/account/"+this.post.author},isLinkDisabled(){return"[deleted]"===this.post.author},userImg(){return this.user?"http://192.168.1.8:2345/static/img/Users/"+this.user.img+".webp":s(162)},postImg(){return this.post?"http://192.168.1.8:2345/static/img/Posts/"+this.post.img+".webp":s(3031)}}};const gt=(0,$.Z)(mt,[["render",ht]]);var wt=gt,bt={components:{PostShort:wt},name:"HomePage",props:{posts:{type:Array,required:!0},discover:{type:Boolean,required:!0},user:{type:Object,required:!0}},computed:{loadedPosts(){return this.posts?this.posts:{}},loadedUser(){return this.user?this.user:{}}},methods:{updateData(){this.$emit("updateData")}}};const ft=(0,$.Z)(bt,[["render",K]]);var vt=ft,yt={name:"HomeView",components:{HomePage:vt},props:{discover:{type:Boolean,default:!1}},data(){return{userSession:JSON.parse(localStorage.getItem("userSession"))||null,discoverPosts:null,homePosts:null,user:null}},methods:{updateData(){this.fetchDiscoverData(),this.fetchHomeData()},async fetchDiscoverData(){await C.Z.get("http://192.168.1.8:2345/vueapp/post/all").then((t=>t.data)).then((t=>{this.discoverPosts=t.slice(0,6)})).catch((()=>{})),this.$forceUpdate()},async fetchHomeData(){this.userSession&&(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z.get("http://192.168.1.8:2345/vueapp/token").then((t=>t)).then((t=>{this.user=t.data})).catch((()=>{}))),await C.Z.get(`http://192.168.1.8:2345/vueapp/post/${this.cur}`).then((t=>t.data)).then((t=>{this.homePosts=t.slice(0,6)})).catch((()=>{})),this.$forceUpdate()}},async beforeMount(){this.fetchHomeData(),this.fetchDiscoverData()},computed:{compUser(){return this.user},readyDiscover(){return this.discover},readyDiscoverPosts(){return this.discoverPosts},readyHomePosts(){return this.homePosts},cur(){return this.userSession?this.userSession.token:"all"}},mounted(){document.title="Home"}};const kt=(0,$.Z)(yt,[["render",W]]);var _t=kt;const xt={class:"position-relative py-4 py-xl-5"},Dt={class:"container"},St={class:"row mb-5"},Ut={class:"col-md-8 col-xl-6 text-center mx-auto"},At={key:0},Pt={key:1},Ct=(0,a._)("p",{class:"w-lg-50"},"Please provide the following info",-1),Zt={class:"row d-flex justify-content-center"},Ft={class:"col-md-6 col-xl-4"},It={class:"card mb-5"},qt={class:"card-body d-flex flex-column align-items-center"},zt=(0,a._)("div",{class:"my-4"},[(0,a._)("img",{alt:"User Image",class:"rounded-circle flex-shrink-0 me-3",style:{"object-fit":"cover"},width:"100",height:"100",src:"http://192.168.1.8:2345/static/img/Users/0.webp"})],-1),$t={class:"text-center"},jt={class:"mb-3"},Nt={key:0,class:"mb-3"},Ot={class:"mb-3"},Bt={key:1,class:"mb-3"},Lt={class:"mb-3"},Tt=["aria-disabled"],Et={key:2,class:"text-muted"},Mt={key:3,class:"text-muted"},Wt={key:0,class:"card-text alert alert-danger"};function Ht(t,e,s,l,r,n){return(0,a.wg)(),(0,a.iD)("section",xt,[(0,a._)("div",Dt,[(0,a._)("div",St,[(0,a._)("div",Ut,[r.register?((0,a.wg)(),(0,a.iD)("h2",At,"Sign up")):((0,a.wg)(),(0,a.iD)("h2",Pt,"Log in")),Ct])]),(0,a._)("div",Zt,[(0,a._)("div",Ft,[(0,a._)("div",It,[(0,a._)("div",qt,[zt,(0,a._)("div",$t,[(0,a._)("div",jt,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"username",name:"username",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t),required:""},null,512),[[o.nr,r.username]])]),r.register?((0,a.wg)(),(0,a.iD)("div",Nt,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"email",name:"email",placeholder:"Email","onUpdate:modelValue":e[1]||(e[1]=t=>r.email=t),required:"",minlength:"5"},null,512),[[o.nr,r.email]])])):(0,a.kq)("",!0),(0,a._)("div",Ot,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"password",name:"password",placeholder:"Password","onUpdate:modelValue":e[2]||(e[2]=t=>r.password=t),required:"",minlength:"4"},null,512),[[o.nr,r.password]])]),r.register?((0,a.wg)(),(0,a.iD)("div",Bt,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"password",name:"password2",placeholder:"Re-enter Password","onUpdate:modelValue":e[3]||(e[3]=t=>r.password2=t),required:"",minlength:"4"},null,512),[[o.nr,r.password2]])])):(0,a.kq)("",!0),(0,a._)("div",Lt,[r.register?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-primary d-block w-100",onClick:e[4]||(e[4]=(...t)=>n.registerOn&&n.registerOn(...t)),"aria-disabled":!n.isEmail(this.email)}," Register ",8,Tt)):((0,a.wg)(),(0,a.iD)("button",{key:1,class:"btn btn-primary d-block w-100",type:"submit",onClick:e[5]||(e[5]=(...t)=>n.login&&n.login(...t))}," Login "))]),r.register?((0,a.wg)(),(0,a.iD)("p",Et,[(0,a.Uk)(" Have an account? "),(0,a._)("a",{onClick:e[6]||(e[6]=(...t)=>n.state&&n.state(...t)),href:"#"},"Log in")])):((0,a.wg)(),(0,a.iD)("p",Mt,[(0,a.Uk)(" Not a member? "),(0,a._)("a",{onClick:e[7]||(e[7]=(...t)=>n.state&&n.state(...t)),href:"#"},"Register")]))]),this.error?((0,a.wg)(),(0,a.iD)("div",Wt,(0,i.zw)(this.msg),1)):(0,a.kq)("",!0)])])])])])])}var Vt={name:"LoginView",data(){return{userSession:JSON.parse(localStorage.getItem("userSession"))||null,register:!1,username:"",password:"",password2:"",email:"",token:"",exp:"",msg:"",error:!1}},methods:{isEmail(t){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(t)},isUsername(t){return t.length>0},isPassword(t){return t.length>3},isMatching(t,e){return t===e},click(){location.href="/"},state(){this.error=!1,this.register=!this.register},async registerOn(){this.isEmail(this.email)&&this.isUsername(this.username)&&this.isPassword(this.password)&&this.isMatching(this.password,this.password2)?(await C.Z.post("http://192.168.1.8:2345/vueapp/user",{Username:this.username,Password:this.password,Email:this.email}).then((t=>t["data"])).then((t=>{if("error"in t)throw new Error(t.error_msg);return this.error=!1,t})).then((t=>(this.token=t.token,this.exp=t.exp))).catch((t=>{this.error=!0,this.msg=t})),this.error||(this.userSession={token:this.token,exp:this.exp},localStorage.setItem("userSession",JSON.stringify(this.userSession)),this.click())):(this.msg="Fields not filled properly",this.error=!0)},async login(){this.isUsername(this.username)&&this.isPassword(this.password)?(await C.Z.post("http://192.168.1.8:2345/vueapp/login",{username:this.username,password:this.password}).then((t=>t["data"])).then((t=>{if("error"in t)throw new Error(t.error_msg);return this.error=!1,t})).then((t=>(this.token=t.token,this.exp=t.exp))).catch((t=>{this.error=!0,this.msg=t})),this.error||(this.userSession={token:this.token,exp:this.exp},localStorage.setItem("userSession",JSON.stringify(this.userSession)),this.click())):(this.msg="Fields not filled properly",this.error=!0)}},mounted(){document.title=this.register?"Register":"Login"}};const Rt=(0,$.Z)(Vt,[["render",Ht]]);var Yt=Rt;function Jt(t,e,s,o,i,l){const r=(0,a.up)("PostComp");return(0,a.wg)(),(0,a.j4)(r,{post:this.compPost.post,user:this.compPost.author,comments:this.compComments,onUpdateComments:l.updateComments},null,8,["post","user","comments","onUpdateComments"])}const Kt={class:"container py-4 py-xl-5"},Gt={class:"col-md-12 col-xl-12 card"},Qt=["src"],Xt={class:"card-body p-4"},te=(0,a._)("p",{class:"text-primary card-text mb-0"},"Article",-1),ee={class:"display-3 card-title"},se=(0,a._)("div",{style:{"padding-bottom":"0px","margin-bottom":"15px"}},null,-1),oe={class:"d-flex"},ae=["src"],ie={class:"fw-bold mb-0"},le={class:"text-muted mb-0"},re=(0,a._)("div",{style:{"padding-bottom":"0px","margin-bottom":"15px"}},null,-1),ne={class:"position-relative py-4 py-xl-5"},ce={class:"container position-relative"},de={class:"card mb-5"},ue={class:"card-body p-sm-5",style:{"padding-right":"11px"}},pe=(0,a._)("div",null,[(0,a._)("h2",null,[(0,a._)("u",null,"Comment Section:")])],-1),he={class:"fs-5 card-text"},me=(0,a._)("br",null,null,-1),ge={key:0},we={class:"mb-3"},be=["disabled"],fe={key:1,class:"fs-5 card-text"};function ve(t,e,s,l,r,n){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Kt,[(0,a._)("div",Gt,[(0,a._)("img",{alt:"Post Image",class:"card-img-top w-100 d-block",style:{"object-fit":"cover",height:"400px"},src:this.postImg},null,8,Qt),(0,a._)("div",Xt,[te,(0,a._)("h1",ee,(0,i.zw)(this.post.title),1),se,(0,a._)("div",oe,[(0,a._)("img",{alt:"User Image",class:"rounded-circle flex-shrink-0 me-3",width:"50",height:"50",style:{"object-fit":"cover"},src:this.userImg},null,8,ae),(0,a._)("div",null,[(0,a._)("p",ie,(0,i.zw)(s.post.author),1),(0,a._)("p",le,(0,i.zw)(s.post.date),1)])]),(0,a._)("div",null,[re,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.post.text.split("\n"),(t=>((0,a.wg)(),(0,a.iD)("p",{class:"fs-5 card-text",key:t},(0,i.zw)(t),1)))),128))])])]),(0,a._)("div",null,[(0,a._)("section",ne,[(0,a._)("div",ce,[(0,a._)("div",de,[(0,a._)("div",ue,[(0,a._)("div",null,[pe,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.comments,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("p",he,[(0,a._)("strong",null,(0,i.zw)(t.author)+":",1),(0,a.Uk)(" "+(0,i.zw)(t.comment),1)])])))),128))]),me,this.userSession?((0,a.wg)(),(0,a.iD)("div",ge,[(0,a._)("div",we,[(0,a.wy)((0,a._)("textarea",{class:"form-control",placeholder:"Comment here","onUpdate:modelValue":e[0]||(e[0]=t=>this.com=t)},null,512),[[o.nr,this.com]])]),(0,a._)("div",null,[(0,a._)("button",{class:"btn btn-primary d-block w-100",type:"submit",disabled:this.isDisabled,onClick:e[1]||(e[1]=(...t)=>n.comment&&n.comment(...t))}," Upload Comment ",8,be)])])):((0,a.wg)(),(0,a.iD)("p",fe,[null==t.userSes?((0,a.wg)(),(0,a.j4)(c,{key:0,to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)("Login ")])),_:1})):(0,a.kq)("",!0),(0,a.Uk)(" to comment! ")]))])])])])])])}var ye={name:"postComp",props:{post:{type:Object,required:!0},user:{type:Object,required:!0},comments:{type:Array,required:!0}},data(){return{userSession:JSON.parse(localStorage.getItem("userSession"))||null,com:null}},methods:{comment(){this.userSession&&(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,C.Z.post("http://192.168.1.8:2345/vueapp/post/"+this.$route.params.id+"/comment",{Comment:this.com}).catch((()=>{})),this.com=null,this.$emit("updateComments"))}},computed:{isDisabled(){return!this.com||0==this.com.length},compCom(){return this.comments},userImg(){return this.user?"http://192.168.1.8:2345/static/img/Users/"+this.user.img+".webp":s(162)},postImg(){return this.post?"http://192.168.1.8:2345/static/img/Posts/"+this.post.img+".webp":s(3031)}}};const ke=(0,$.Z)(ye,[["render",ve]]);var _e=ke,xe={components:{PostComp:_e},name:"PostView",data(){return{post:null,comments:null}},methods:{updateComments(){this.fetchData()},async fetchData(){await C.Z.get("http://192.168.1.8:2345/vueapp/post/"+this.$route.params.id).then((t=>t)).then((t=>{this.post=t.data})).catch((()=>{})),await C.Z.get("http://192.168.1.8:2345/vueapp/post/"+this.$route.params.id+"/comment").then((t=>t)).then((t=>{this.comments=t.data})).catch((()=>{})),this.$forceUpdate()}},computed:{compComments(){return this.comments},compPost(){return this.post}},async beforeMount(){this.fetchData()},mounted(){document.title="Post"}};const De=(0,$.Z)(xe,[["render",Jt]]);var Se=De;function Ue(t,e,s,o,i,l){const r=(0,a.up)("AccountPage");return(0,a.wg)(),(0,a.j4)(r,{token:this.compToken,user:this.compUser,posts:this.compPosts,followers:this.compFollowers,following:this.compFollowing,state:this.curState,followed:this.curFollowed,onUpdateData:l.updateData,onFollowUpdate:l.followUpdate},null,8,["token","user","posts","followers","following","state","followed","onUpdateData","onFollowUpdate"])}const Ae={class:"modal fade",id:"importModal",tabindex:"-1","aria-labelledby":"importModal","aria-hidden":"true"},Pe={class:"modal-dialog modal-dialog-centered"},Ce={class:"modal-content"},Ze=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title"},"Import/Export Blogs"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Fe={class:"modal-body"},Ie={class:"card-body d-flex flex-column align-items-center"},qe=(0,a.uE)('<div class="col-md-8 col-xl-6 text-center mx-auto"><p class="w-100"><strong>Instruction to Upload Blogs</strong></p><p class="w-100"> To upload a blog text and its picture, you can follow these steps: </p><p class="w-100"> 1. Save the blog text and its picture with the title of the blog in your computer. For example, “title.txt” and “title.png”. </p><p class="w-100">2. Compress all files into a single zip file.</p></div>',1),ze={key:0,class:"mb-3 w-75"},$e=(0,a._)("button",{class:"btn btn-success d-block w-100 disabled"}," Successfully Imported! Please wait for the update. ",-1),je=[$e],Ne={key:1,class:"input-group mb-3 w-75"},Oe={class:"mb-3 w-75"},Be={key:0,class:"btn btn-success d-block w-100 disabled"},Le={key:2,class:"card-text alert alert-danger"},Te={class:"modal fade",id:"apiModal",tabindex:"-1","aria-labelledby":"apiModal","aria-hidden":"true"},Ee={class:"modal-dialog"},Me={class:"modal-content"},We=(0,a._)("div",{class:"modal-header"},[(0,a._)("h1",{class:"modal-title fs-5"},"API Token"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),He={class:"modal-body"},Ve={class:"modal fade",id:"confirmDeleteAccountModal",tabindex:"-1","aria-labelledby":"confirmDeleteAccountModal","aria-hidden":"true"},Re={class:"modal-dialog modal-dialog-centered"},Ye={class:"modal-content"},Je=(0,a._)("div",{class:"modal-header"},[(0,a._)("h1",{class:"modal-title fs-5"},"Delete Account?"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ke=(0,a._)("div",{class:"modal-body"},[(0,a.Uk)(" Deleting the account will not delete your articles. "),(0,a._)("br"),(0,a.Uk)(" Their author will be tagged as [deleted]. "),(0,a._)("br"),(0,a.Uk)(" Are you sure that you want to delete your account? This action cannot be undone. ")],-1),Ge={class:"modal-footer"},Qe=(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," No ",-1),Xe={class:"modal fade",id:"changePassword",tabindex:"-1","aria-labelledby":"changePassword","aria-hidden":"true"},ts={class:"modal-dialog modal-dialog-centered"},es={class:"modal-content"},ss=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title"},"Change Password"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),os={class:"modal-body"},as={class:"card-body d-flex flex-column align-items-center"},is=(0,a._)("div",{class:"col-md-8 col-xl-6 text-center mx-auto"},[(0,a._)("p",{class:"w-lg-50"},"Please provide the following info")],-1),ls={class:"mb-3"},rs={class:"mb-3"},ns={class:"mb-3"},cs={key:0,class:"card-text alert alert-danger"},ds={class:"modal fade",id:"editAccount",tabindex:"-1","aria-labelledby":"editAccount","aria-hidden":"true"},us={class:"modal-dialog modal-dialog-centered"},ps={class:"modal-content"},hs=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title"},"Edit Account"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ms={class:"modal-body"},gs={class:"card mb-5"},ws={class:"card-body d-flex flex-column align-items-center"},bs=(0,a._)("div",{class:"col-md-8 col-xl-6 text-center mx-auto"},[(0,a._)("h2",null,"Edit Account"),(0,a._)("p",{class:"w-lg-50"},"Please provide the following info")],-1),fs={class:"text-center"},vs=(0,a._)("p",{class:"fs-6 card-text"}," Upload a profile picture below(not required): ",-1),ys={class:"text-center",style:{"padding-bottom":"0px","margin-bottom":"16px"}},ks={class:"mb-3"},_s={class:"mb-3"},xs={class:"text-center form-group",style:{"padding-bottom":"0px","margin-bottom":"16px"}},Ds={style:{"padding-right":"0.3cm"}},Ss={class:"form-check form-check-inline"},Us=(0,a._)("label",{class:"form-check-label",for:"inlineRadio1"},"PDF",-1),As={class:"form-check form-check-inline"},Ps=(0,a._)("label",{class:"form-check-label",for:"inlineRadio2"},"HTML",-1),Cs={class:"mb-3"},Zs={key:0},Fs={style:{color:"rgb(255, 0, 0)"}},Is={class:"py-4 py-xl-5"},qs={class:"container"},zs={class:"bg-dark border rounded border-0 border-dark overflow-hidden"},$s={class:"row g-0"},js={class:"col-md-6"},Ns={class:"text-white p-4 p-md-5"},Os={class:"fw-bold text-white mb-3"},Bs={class:"mb-2"},Ls={class:"mb-2"},Ts={class:"mb-2"},Es={class:"my-3"},Ms={key:0,class:"btn btn-light btn-lg me-2",style:{"margin-top":"10px"},role:"button","data-bs-toggle":"modal","data-bs-target":"#editAccount"},Ws={key:1,class:"btn btn-primary btn-lg me-2",style:{"margin-top":"10px"},role:"button","data-bs-toggle":"modal","data-bs-target":"#confirmDeleteAccountModal"},Hs={key:2,class:"btn btn-light btn-lg me-2",style:{"margin-top":"10px"},role:"button","data-bs-toggle":"modal","data-bs-target":"#changePassword"},Vs={key:3,class:"btn btn-primary btn-lg me-2",style:{"margin-top":"10px"},role:"button","data-bs-toggle":"modal","data-bs-target":"#apiModal"},Rs={key:5,class:"btn btn-primary btn-lg me-2",style:{"margin-top":"10px"},role:"button","data-bs-toggle":"modal","data-bs-target":"#importModal"},Ys={class:"col-md-6 order-first order-md-last"},Js=["src"],Ks={class:"py-4 py-xl-5"},Gs={class:"container"},Qs={key:0,class:"bg-dark border rounded border-0 border-dark overflow-hidden"};function Xs(t,e,s,l,r,n){const c=(0,a.up)("router-link"),d=(0,a.up)("PostSide");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Ae,[(0,a._)("div",Pe,[(0,a._)("div",Ce,[Ze,(0,a._)("div",Fe,[(0,a._)("div",Ie,[qe,this.impSuccess?((0,a.wg)(),(0,a.iD)("div",ze,je)):((0,a.wg)(),(0,a.iD)("div",Ne,[(0,a._)("input",{type:"file",class:"form-control",id:"inputGroupFile04","aria-describedby":"inputGroupFileAddon04","aria-label":"Upload",accept:".zip",ref:"zip",onChange:e[0]||(e[0]=t=>n.uploadFile("importZip"))},null,544),(0,a._)("button",{class:(0,i.C_)([this.zip?"":"disabled","btn btn-primary"]),type:"button",id:"inputGroupFileAddon04",onClick:e[1]||(e[1]=(...t)=>n.importBlogs&&n.importBlogs(...t))}," Import Blogs ",2)])),(0,a._)("div",Oe,[this.success?((0,a.wg)(),(0,a.iD)("button",Be," Successfully Exported! Check Email. ")):(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{key:1,class:"btn btn-primary d-block w-100",type:"submit",onClick:e[2]||(e[2]=(...t)=>n.exportBlog&&n.exportBlog(...t))}," Export Blogs through email ",512)),[[o.F8,this.compPostLength>0]])]),this.error?((0,a.wg)(),(0,a.iD)("div",Le,(0,i.zw)(this.msg),1)):(0,a.kq)("",!0)])])])])]),(0,a._)("div",Te,[(0,a._)("div",Ee,[(0,a._)("div",Me,[We,(0,a._)("div",He,(0,i.zw)(this.apiToken),1)])])]),(0,a._)("div",Ve,[(0,a._)("div",Re,[(0,a._)("div",Ye,[Je,Ke,(0,a._)("div",Ge,[(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:e[3]||(e[3]=(...t)=>n.deleteAccount&&n.deleteAccount(...t))}," Yes "),Qe])])])]),(0,a._)("div",Xe,[(0,a._)("div",ts,[(0,a._)("div",es,[ss,(0,a._)("div",os,[(0,a._)("div",as,[is,(0,a._)("div",ls,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"password",name:"password",placeholder:"New Password","onUpdate:modelValue":e[4]||(e[4]=t=>r.password=t)},null,512),[[o.nr,r.password]])]),(0,a._)("div",rs,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"password",name:"password2",placeholder:"Re-enter New Password","onUpdate:modelValue":e[5]||(e[5]=t=>r.password2=t)},null,512),[[o.nr,r.password2]])]),(0,a._)("div",ns,[(0,a._)("button",{class:"btn btn-primary d-block w-100",type:"submit",onClick:e[6]||(e[6]=(...t)=>n.changePass&&n.changePass(...t))}," Change Password ")]),this.error?((0,a.wg)(),(0,a.iD)("div",cs,(0,i.zw)(this.msg),1)):(0,a.kq)("",!0)])])])])]),(0,a._)("div",ds,[(0,a._)("div",us,[(0,a._)("div",ps,[hs,(0,a._)("div",ms,[(0,a._)("div",gs,[(0,a._)("div",ws,[bs,(0,a._)("div",fs,[vs,(0,a._)("div",ys,[(0,a._)("input",{class:"form-control",type:"file",ref:"file",placeholder:"Upload Image",onChange:e[7]||(e[7]=t=>n.uploadFile("profileImg")),accept:"image/gif, image/jpeg, image/jpg, image/png"},null,544)]),(0,a._)("div",ks,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"username",name:"username",placeholder:"New Username","onUpdate:modelValue":e[8]||(e[8]=t=>this.username=t)},null,512),[[o.nr,this.username]])]),(0,a._)("div",_s,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"email",name:"email",placeholder:"New Email","onUpdate:modelValue":e[9]||(e[9]=t=>this.email=t)},null,512),[[o.nr,this.email]])]),(0,a.wy)((0,a._)("div",xs,[(0,a.wy)((0,a._)("label",Ds,"Select desired Report format: ",512),[[o.F8,this.compPostLength>0]]),(0,a.wy)((0,a._)("div",Ss,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"PDF","onUpdate:modelValue":e[10]||(e[10]=t=>this.format=t)},null,512),[[o.G2,this.format]]),Us],512),[[o.F8,this.compPostLength>0]]),(0,a.wy)((0,a._)("div",As,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"HTML","onUpdate:modelValue":e[11]||(e[11]=t=>this.format=t)},null,512),[[o.G2,this.format]]),Ps],512),[[o.F8,this.compPostLength>0]])],512),[[o.F8,this.compPostLength>0]]),(0,a._)("div",Cs,[(0,a._)("button",{class:"btn btn-primary d-block w-100",type:"submit",onClick:e[12]||(e[12]=(...t)=>n.editAccount&&n.editAccount(...t))}," Edit Account ")]),this.error?((0,a.wg)(),(0,a.iD)("p",Zs,[(0,a._)("span",Fs,(0,i.zw)(this.msg),1)])):(0,a.kq)("",!0)])])])])])])]),(0,a._)("section",Is,[(0,a._)("div",qs,[(0,a._)("div",zs,[(0,a._)("div",$s,[(0,a._)("div",js,[(0,a._)("div",Ns,[(0,a._)("h2",Os,(0,i.zw)(this.compUsername),1),(0,a._)("p",Bs,"Articles written: "+(0,i.zw)(this.compPostLength),1),(0,a._)("p",Ls,[(0,a.Wm)(c,{style:{color:"white"},class:(0,i.C_)({"disabled-link":0==this.compFollowingLength}),to:{name:"follows",params:{user:this.compUsername}}},{default:(0,a.w5)((()=>[(0,a.Uk)("Following")])),_:1},8,["class","to"]),(0,a.Uk)(": "+(0,i.zw)(this.compFollowingLength),1)]),(0,a._)("p",Ts,[(0,a.Wm)(c,{style:{color:"white"},to:{name:"followers",params:{user:this.compUsername}},class:(0,i.C_)({"disabled-link":0==this.compFollowersLength})},{default:(0,a.w5)((()=>[(0,a.Uk)("Followers")])),_:1},8,["to","class"]),(0,a.Uk)(": "+(0,i.zw)(this.compFollowersLength),1)]),(0,a._)("div",Es,[this.state?((0,a.wg)(),(0,a.iD)("a",Ms,"Edit Account")):(0,a.kq)("",!0),this.state?((0,a.wg)(),(0,a.iD)("a",Ws,"Delete Account")):(0,a.kq)("",!0),this.state?((0,a.wg)(),(0,a.iD)("button",Hs," Change Password ")):(0,a.kq)("",!0),this.state?((0,a.wg)(),(0,a.iD)("button",Vs," API Token ")):(0,a.kq)("",!0),this.state?(0,a.wy)(((0,a.wg)(),(0,a.j4)(c,{key:4,class:"btn btn-light btn-lg me-2",style:{"margin-top":"10px"},to:{name:"analytics",params:{user:this.compUsername}}},{default:(0,a.w5)((()=>[(0,a.Uk)("Analytics")])),_:1},8,["to"])),[[o.F8,this.compPostLength>0]]):(0,a.kq)("",!0),this.state?((0,a.wg)(),(0,a.iD)("button",Rs," Import/Export Blogs ")):(0,a.kq)("",!0),!this.state&&this.followed&&this.userSession?((0,a.wg)(),(0,a.iD)("button",{key:6,class:"btn btn-danger btn-lg me-2",onClick:e[13]||(e[13]=(...t)=>n.followUpdate&&n.followUpdate(...t))}," Followed! ")):(0,a.kq)("",!0),this.state||this.followed||!this.userSession?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:7,class:"btn btn-primary btn-lg me-2",onClick:e[14]||(e[14]=(...t)=>n.followUpdate&&n.followUpdate(...t))}," Follow "))])])]),(0,a._)("div",Ys,[(0,a._)("img",{alt:"User Image",class:"card-img-top w-100 d-block",style:{"object-fit":"cover",height:"400px"},src:this.userImg},null,8,Js)])])])])]),(0,a._)("section",Ks,[(0,a._)("div",Gs,[this.posts?((0,a.wg)(),(0,a.iD)("div",Qs,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.posts,(t=>((0,a.wg)(),(0,a.j4)(d,{key:t,post:t,state:this.state,onUpdateData:e[15]||(e[15]=t=>this.$emit("updateData"))},null,8,["post","state"])))),128))])):(0,a.kq)("",!0)])])],64)}const to=["id","aria-labelledby"],eo={class:"modal-dialog modal-dialog-centered"},so={class:"modal-content"},oo=(0,a._)("div",{class:"modal-header"},[(0,a._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"}," Delete Article? "),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ao={class:"modal-body"},io={class:"modal-footer"},lo=(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," No ",-1),ro={class:"row g-0"},no={class:"col-md-6 order-first order-md-last",style:{"min-height":"250px"}},co={class:"text-white p-4 p-md-5"},uo={class:"fw-bold text-white mb-3"},po={class:"mb-2"},ho={key:0,class:"my-3"},mo=["data-bs-target"],go={class:"col-md-6"},wo=["src"];function bo(t,e,s,o,l,r){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:"modal fade",id:this.compModalName,tabindex:"-1","aria-labelledby":this.compModalName,"aria-hidden":"true"},[(0,a._)("div",eo,[(0,a._)("div",so,[oo,(0,a._)("div",ao,' Delete the article "'+(0,i.zw)(this.post.title)+'"? ',1),(0,a._)("div",io,[(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:e[0]||(e[0]=(...t)=>r.deletePost&&r.deletePost(...t))}," Yes "),lo])])])],8,to),(0,a._)("div",ro,[(0,a._)("div",no,[(0,a._)("div",co,[(0,a._)("h2",uo,(0,i.zw)(this.post.title),1),(0,a._)("p",po,(0,i.zw)(this.post.text.slice(0,150)+"..."),1),(0,a.Wm)(n,{to:{name:"post",params:{id:this.post.roll}}},{default:(0,a.w5)((()=>[(0,a.Uk)("Read More")])),_:1},8,["to"]),this.state?((0,a.wg)(),(0,a.iD)("div",ho,[(0,a.Wm)(n,{class:"btn btn-primary btn-lg me-2",to:{name:"blogEdit",params:{id:this.post.roll}}},{default:(0,a.w5)((()=>[(0,a.Uk)("Edit Article")])),_:1},8,["to"]),(0,a._)("button",{type:"button",class:"btn btn-light btn-lg","data-bs-toggle":"modal","data-bs-target":this.compModalHashName}," Delete Article ",8,mo)])):(0,a.kq)("",!0)])]),(0,a._)("div",go,[(0,a._)("img",{alt:"Post Image",class:"w-100 d-block",style:{"object-fit":"cover",height:"350px"},src:this.postImg},null,8,wo)])])],64)}var fo={name:"postSide",data(){return{userSession:JSON.parse(localStorage.getItem("userSession"))||null}},props:{post:{type:Object,required:!0},state:{type:Boolean,required:!0}},computed:{postImg(){return this.post?"http://192.168.1.8:2345/static/img/Posts/"+this.post.img+".webp":s(3031)},compModalName(){return this.post.roll+"Modal"},compModalHashName(){return"#"+this.post.roll+"Modal"}},methods:{async deletePost(){C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z["delete"]("http://192.168.1.8:2345/vueapp/post/"+this.post.roll).catch((()=>{})),this.$emit("updateData")}}};const vo=(0,$.Z)(fo,[["render",bo]]);var yo=vo,ko={components:{PostSide:yo},name:"AccountPage",data(){return{userSession:JSON.parse(localStorage.getItem("userSession"))||null,username:"",password:"",password2:"",email:"",msg:"",format:1==this.user.pdf?"PDF":"HTML",error:!1,allowedTypes:["image/jpeg","image/png","image/gif"],allowedImport:["application/zip"],file:null,success:!1,zip:null,impSuccess:!1}},props:{token:{type:Object,required:!0},posts:{type:Object,required:!0},user:{type:Object,required:!0},followers:{type:Object,required:!0},following:{type:Object,required:!0},state:{type:Boolean,required:!0},followed:{type:Boolean,required:!0}},computed:{apiToken(){return this.userSession?this.token.token:""},compUsername(){return this.user?this.user.username:""},compPostLength(){return this.posts?this.posts.length:""},compFollowersLength(){return this.followers?this.followers.length:0},compFollowingLength(){return this.following?this.following.length:0},userImg(){return this.user?"http://192.168.1.8:2345/static/img/Users/"+this.user.img+".webp":s(162)}},methods:{importBlogs(){C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`;let t=new FormData;this.zip&&this.allowedImport.includes(this.zip.type)&&(t.append("Import",this.zip),C.Z.post("http://192.168.1.8:2345/vueapp/user/import",t).catch((()=>{})),this.impSuccess=!this.impSuccess)},exportBlog(){C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,C.Z.get("http://192.168.1.8:2345/vueapp/user/export").catch((()=>{})),this.success=!0},followUpdate(){this.$emit("followUpdate")},async deleteAccount(){C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z["delete"]("http://192.168.1.8:2345/vueapp/user").catch((()=>{})),this.userSession=null,localStorage.removeItem("userSession"),location.href="/"},validateContent(){return!!this.file&&this.allowedTypes.includes(this.file.type)},uploadFile(t){"profileImg"==t?this.file=this.$refs.file.files[0]:"importZip"==t&&(this.zip=this.$refs.zip.files[0])},isEmail(t){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(t)},isUsername(t){return t.length>0},isPassword(t){return t.length>3},isMatching(t,e){return t===e},async editAccount(){if(this.validateContent()||this.isEmail(this.email)||this.isUsername(this.username)||this.isUsername(this.format)){C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`;let t=new FormData;this.validateContent()&&t.append("New Image",this.file),this.isEmail(this.email)&&t.append("New Email",this.email),this.isUsername(this.username)&&t.append("New Username",this.username),this.isUsername(this.format)&&("PDF"==this.format?t.append("New Format",1):t.append("New Format",0)),await C.Z.put("http://192.168.1.8:2345/vueapp/user",t).catch((t=>{this.error=!0,this.msg=t})),this.isUsername(this.username)?location.href="/account/"+this.username:location.reload()}else this.msg="Fields not filled properly",this.error=!0},async changePass(){if(this.isPassword(this.password)&&this.isMatching(this.password,this.password2)){C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`;let t=new FormData;t.append("New Password",this.password),await C.Z.put("http://192.168.1.8:2345/vueapp/user",t).catch((t=>{console.error("Error:",t),this.error=!0,this.msg=t})),location.reload()}else this.msg="Fields not filled properly",this.error=!0}}};const _o=(0,$.Z)(ko,[["render",Xs]]);var xo=_o,Do={name:"AccountView",components:{AccountPage:xo},data(){return{token:null,user:null,posts:null,followers:null,following:null,state:!1,userSession:JSON.parse(localStorage.getItem("userSession"))||null,cur:null,followed:!1}},methods:{async fetchData(){await C.Z.get("http://192.168.1.8:2345/vueapp/user/"+this.$route.params.name).then((t=>t)).then((t=>{this.user=t.data})).catch((()=>{})),C.Z.get("http://192.168.1.8:2345/vueapp/post/"+this.$route.params.name).then((t=>t)).then((t=>{this.posts=t.data})).catch((()=>{})),C.Z.get("http://192.168.1.8:2345/vueapp/user/"+this.$route.params.name+"/followers").then((t=>t)).then((t=>{this.followers=t.data})).catch((()=>{})),C.Z.get("http://192.168.1.8:2345/vueapp/user/"+this.$route.params.name+"/follows").then((t=>t)).then((t=>{this.following=t.data})).catch((()=>{})),this.userSession&&(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z.get("http://192.168.1.8:2345/vueapp/token").then((t=>t)).then((t=>t.data)).then((t=>{this.cur=t})).catch((()=>{})),C.Z.get("http://192.168.1.8:2345/vueapp/usertoken").then((t=>t)).then((t=>{this.token=t.data})).catch((()=>{})),C.Z.get(`http://192.168.1.8:2345/vueapp/${this.cur.username}/follows/${this.compUser.username}`).then((t=>t)).then((t=>t.data)).then((t=>{this.followed="true"==t.status})).catch((()=>{}))),this.$forceUpdate()},updateData(){this.fetchData(),this.$forceUpdate(),location.reload()},followUpdate(){this.compFollow?(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,C.Z["delete"]("http://192.168.1.8:2345/vueapp/user/"+this.compUser.username+"/follows").catch((()=>{})),this.followed=!this.followed):(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,C.Z.post("http://192.168.1.8:2345/vueapp/user/"+this.compUser.username+"/follows").catch((()=>{})),this.followed=!this.followed),this.fetchData()}},computed:{compToken(){return this.token},compFollow(){return this.followed},compUser(){return this.user?this.user:{}},compPosts(){return this.posts?this.posts:[]},compFollowers(){return this.followers?this.followers:[]},compFollowing(){return this.following?this.following:[]},curState(){return!!(this.userSession&&this.user&&this.cur)&&this.cur.username==this.user.username},curFollowed(){return this.followed}},async beforeMount(){this.fetchData()},mounted(){document.title="User Account"}};const So=(0,$.Z)(Do,[["render",Ue]]);var Uo=So;const Ao={class:"container"},Po={class:"position-relative py-4 py-xl-5"},Co={class:"container position-relative"},Zo={class:"row d-flex justify-content-center"},Fo={class:"col-md-12 col-lg-10 col-xl-10 col-xxl-10"},Io={class:"card mb-5"},qo={class:"card-body p-sm-5",style:{"padding-right":"11px"}},zo=(0,a._)("div",{class:"mb-3"},[(0,a._)("h2",{class:"text-centre mb-4"},"Upload Article")],-1),$o=(0,a._)("p",{class:"fs-6 card-text"},"Upload an image below:",-1),jo={class:"text-center",style:{"padding-bottom":"0px","margin-bottom":"16px"}},No={class:"mb-3"},Oo={class:"mb-3"},Bo=["disabled"],Lo={class:"col-md-12 col-lg-10 col-xl-10 col-xxl-10"},To={class:"card mb-5"},Eo={class:"card-body p-sm-5",style:{"padding-right":"11px"}},Mo=(0,a._)("div",{class:"mb-3"},[(0,a._)("h2",{class:"text-centre mb-4"},"Live Post Preview")],-1),Wo=["src"],Ho={class:"card-body p-4"},Vo=(0,a._)("p",{class:"text-primary card-text mb-0"},"Article",-1),Ro={key:0,class:"display-3 card-title"},Yo=(0,a._)("div",{style:{"padding-bottom":"0px","margin-bottom":"15px"}},null,-1),Jo={class:"d-flex"},Ko=["src"],Go={class:"fw-bold mb-0"},Qo={class:"text-muted mb-0"},Xo=(0,a._)("div",{style:{"padding-bottom":"0px","margin-bottom":"15px"}},null,-1),ta={key:0};function ea(t,e,s,l,r,n){return(0,a.wg)(),(0,a.iD)("div",Ao,[(0,a._)("div",null,[(0,a._)("section",Po,[(0,a._)("div",Co,[(0,a._)("div",Zo,[(0,a._)("div",Fo,[(0,a._)("div",Io,[(0,a._)("div",qo,[zo,$o,(0,a._)("div",jo,[(0,a._)("input",{class:"form-control",type:"file",ref:"file",placeholder:"Upload Image",onChange:e[0]||(e[0]=(...t)=>n.uploadFile&&n.uploadFile(...t)),required:"",accept:"image/gif, image/jpeg, image/jpg, image/png"},null,544)]),(0,a._)("div",No,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.title=t),placeholder:"Title",required:""},null,512),[[o.nr,r.title]])]),(0,a._)("div",Oo,[(0,a.wy)((0,a._)("textarea",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>r.content=t),rows:"3",placeholder:"Content",required:""},null,512),[[o.nr,r.content]])]),(0,a._)("div",null,[(0,a._)("button",{class:"btn btn-primary d-block w-100",type:"submit",onClick:e[3]||(e[3]=(...t)=>n.upload&&n.upload(...t)),disabled:!n.isValid}," Upload Article ",8,Bo)])])])]),(0,a.wy)((0,a._)("div",Lo,[(0,a._)("div",To,[(0,a._)("div",Eo,[Mo,this.compFile?((0,a.wg)(),(0,a.iD)("img",{key:0,alt:"Post Image",class:"card-img-top w-100 d-block",style:{"object-fit":"cover",height:"400px"},src:this.imageUrl},null,8,Wo)):(0,a.kq)("",!0),(0,a._)("div",Ho,[Vo,this.compTitle?((0,a.wg)(),(0,a.iD)("h1",Ro,(0,i.zw)(this.compTitle),1)):(0,a.kq)("",!0),Yo,(0,a._)("div",Jo,[(0,a._)("img",{alt:"User Image",class:"rounded-circle flex-shrink-0 me-3",width:"50",height:"50",style:{"object-fit":"cover"},src:this.userImg},null,8,Ko),(0,a._)("div",null,[(0,a._)("p",Go,(0,i.zw)(this.userName),1),(0,a._)("p",Qo,(0,i.zw)(this.compDate),1)])]),(0,a._)("div",null,[Xo,this.compContent?((0,a.wg)(),(0,a.iD)("div",ta,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.compContent.split("\n"),(t=>((0,a.wg)(),(0,a.iD)("p",{class:"fs-5 card-text",key:t},(0,i.zw)(t),1)))),128))])):(0,a.kq)("",!0)])])])])],512),[[o.F8,this.compFile]])])])])])])}var sa={name:"UploadView",data(){return{userSession:JSON.parse(localStorage.getItem("userSession"))||null,user:null,file:null,title:null,content:null,error:null,allowedTypes:["image/jpeg","image/png","image/gif"],imageUrl:null,date:new Date}},methods:{async fetchData(){this.userSes&&(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z.get("http://192.168.1.8:2345/vueapp/token").then((t=>t)).then((t=>{this.user=t.data})).catch((()=>{}))),this.$forceUpdate()},validateContent(){return!!(this.file&&this.title&&this.content)&&(this.allowedTypes.includes(this.file.type)&&this.title.length>0&&this.content.length>0)},uploadFile(){this.file=this.$refs.file.files[0];const t=new FileReader;t.onload=t=>{this.imageUrl=t.target.result},t.readAsDataURL(this.file)},async upload(){if(this.userSession&&this.isValid){C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`;let t=new FormData;t.append("file",this.file),t.append("title",this.title),t.append("content",this.content),await C.Z.post("http://192.168.1.8:2345/vueapp/post",t,{headers:{"Content-Type":"multipart/form-data"}}).catch((()=>{})),location.href="/"}}},computed:{userSes(){return this.userSession},isValid(){return this.validateContent()},compFile(){return this.file&&this.allowedTypes.includes(this.file.type)?this.file:null},compDate(){return this.date.toISOString().slice(0,10)},compTitle(){return this.title},compContent(){return this.content},userImg(){return this.userSes?"http://192.168.1.8:2345/static/img/Users/"+this.user.img+".webp":s(162)},userName(){return this.userSes?this.user.username:""}},async beforeMount(){this.fetchData()},mounted(){document.title="Upload Blog"}};const oa=(0,$.Z)(sa,[["render",ea]]);var aa=oa;const ia={class:"container"},la={class:"position-relative py-4 py-xl-5"},ra={class:"container position-relative"},na={class:"row d-flex justify-content-center"},ca={class:"col-md-12 col-lg-10 col-xl-10 col-xxl-10"},da={class:"card mb-5"},ua={class:"card-body p-sm-5",style:{"padding-right":"11px"}},pa=(0,a._)("div",{class:"mb-3"},[(0,a._)("h2",{class:"text-centre mb-4"},"Edit Article")],-1),ha=(0,a._)("p",{class:"fs-6 card-text"}," Upload an image below(not required): ",-1),ma={class:"text-center",style:{"padding-bottom":"0px","margin-bottom":"16px"}},ga={class:"mb-3"},wa={class:"mb-3"},ba=["disabled"],fa=(0,a._)("br",null,null,-1),va=(0,a._)("div",null,[(0,a._)("p",{class:"card-text alert alert-primary"}," Certain changes maybe visible only after a reload of the app! ")],-1),ya={class:"col-md-12 col-lg-10 col-xl-10 col-xxl-10"},ka={class:"card mb-5"},_a={class:"card-body p-sm-5",style:{"padding-right":"11px"}},xa=(0,a._)("div",{class:"mb-3"},[(0,a._)("h2",{class:"text-centre mb-4"},"Live Post Preview")],-1),Da=["src"],Sa={class:"card-body p-4"},Ua=(0,a._)("p",{class:"text-primary card-text mb-0"},"Article",-1),Aa={key:0,class:"display-3 card-title"},Pa=(0,a._)("div",{style:{"padding-bottom":"0px","margin-bottom":"15px"}},null,-1),Ca={class:"d-flex"},Za=["src"],Fa={class:"fw-bold mb-0"},Ia={class:"text-muted mb-0"},qa=(0,a._)("div",{style:{"padding-bottom":"0px","margin-bottom":"15px"}},null,-1),za={key:0};function $a(t,e,s,l,r,n){return(0,a.wg)(),(0,a.iD)("div",ia,[(0,a._)("div",null,[(0,a._)("section",la,[(0,a._)("div",ra,[(0,a._)("div",na,[(0,a._)("div",ca,[(0,a._)("div",da,[(0,a._)("div",ua,[pa,ha,(0,a._)("div",ma,[(0,a._)("input",{class:"form-control",type:"file",ref:"file",placeholder:"Upload Image",onChange:e[0]||(e[0]=(...t)=>n.uploadFile&&n.uploadFile(...t)),required:"",accept:"image/gif, image/jpeg, image/jpg, image/png"},null,544)]),(0,a._)("div",ga,[(0,a.wy)((0,a._)("input",{class:"form-control",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.title=t),placeholder:"Title",required:""},null,512),[[o.nr,r.title]])]),(0,a._)("div",wa,[(0,a.wy)((0,a._)("textarea",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>r.content=t),rows:"3",placeholder:"Content",required:""},null,512),[[o.nr,r.content]])]),(0,a._)("div",null,[(0,a._)("button",{class:"btn btn-primary d-block w-100",type:"submit",onClick:e[3]||(e[3]=(...t)=>n.upload&&n.upload(...t)),disabled:!n.isValid}," Update Article ",8,ba)]),fa,va])])]),(0,a.wy)((0,a._)("div",ya,[(0,a._)("div",ka,[(0,a._)("div",_a,[xa,this.isValid?((0,a.wg)(),(0,a.iD)("img",{key:0,alt:"Post Image",class:"card-img-top w-100 d-block",style:{"object-fit":"cover",height:"400px"},src:this.imageUrl},null,8,Da)):(0,a.kq)("",!0),(0,a._)("div",Sa,[Ua,this.compTitle?((0,a.wg)(),(0,a.iD)("h1",Aa,(0,i.zw)(this.compTitle),1)):(0,a.kq)("",!0),Pa,(0,a._)("div",Ca,[(0,a._)("img",{alt:"User Image",class:"rounded-circle flex-shrink-0 me-3",width:"50",height:"50",style:{"object-fit":"cover"},src:this.userImg},null,8,Za),(0,a._)("div",null,[(0,a._)("p",Fa,(0,i.zw)(this.userName),1),(0,a._)("p",Ia,(0,i.zw)(this.compDate),1)])]),(0,a._)("div",null,[qa,this.compContent?((0,a.wg)(),(0,a.iD)("div",za,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.compContent.split("\n"),(t=>((0,a.wg)(),(0,a.iD)("p",{class:"fs-5 card-text",key:t},(0,i.zw)(t),1)))),128))])):(0,a.kq)("",!0)])])])])],512),[[o.F8,this.isValid]])])])])])])}var ja={name:"BlogEdit",data(){return{userSession:JSON.parse(localStorage.getItem("userSession"))||null,user:null,file:null,title:null,content:null,error:null,allowedTypes:["image/jpeg","image/png","image/gif"],imageUrl:null,date:new Date}},methods:{async fetchData(){this.userSes&&(await C.Z.get("http://192.168.1.8:2345/vueapp/post/"+this.$route.params.id).then((t=>t)).then((t=>t.data)).then((t=>{this.title=t.post.title,this.content=t.post.text,this.imageUrl="http://192.168.1.8:2345/static/img/Posts/"+t.post.img+".webp"})).catch((()=>{})),C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,C.Z.get("http://192.168.1.8:2345/vueapp/token").then((t=>t)).then((t=>{this.user=t.data})).catch((()=>{}))),this.$forceUpdate()},validateContent(){return this.file&&this.title&&this.content?this.allowedTypes.includes(this.file.type)&&this.title.length>0&&this.content.length>0:!!(this.imageUrl&&this.title&&this.content)&&(this.imageUrl&&this.title.length>0&&this.content.length>0)},uploadFile(){this.file=this.$refs.file.files[0];const t=new FileReader;t.onload=t=>{this.imageUrl=t.target.result},t.readAsDataURL(this.file)},async upload(){if(this.userSession&&this.isValid){C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`;let t=new FormData;t.append("file",this.file),t.append("title",this.compTitle),t.append("content",this.compContent),await C.Z.put("http://192.168.1.8:2345/vueapp/post/"+this.$route.params.id,t,{headers:{"Content-Type":"multipart/form-data"}}).catch((()=>{})),location.href="/account/"+this.userName}}},computed:{userSes(){return this.userSession},isValid(){return this.validateContent()},compFile(){return this.file&&this.allowedTypes.includes(this.file.type)?this.file:null},compDate(){return this.date.toISOString().slice(0,10)},compTitle(){return this.title},compContent(){return this.content},userImg(){return this.userSes?"http://192.168.1.8:2345/static/img/Users/"+this.user.img+".webp":s(162)},userName(){return this.userSes?this.user.username:""}},async beforeMount(){this.fetchData()},mounted(){document.title="Edit Blog"}};const Na=(0,$.Z)(ja,[["render",$a]]);var Oa=Na;const Ba={class:"container",style:{"padding-top":"44px"}},La={class:"bg-dark border rounded border-0 border-dark overflow-hidden",style:{"padding-bottom":"0px","margin-bottom":"64px"}},Ta={key:0,class:"p-md-3"},Ea=(0,a._)("p",{class:"fw-bold text-white mb-2"}," Users found for the search term are as follows: ",-1),Ma=[Ea],Wa={key:1},Ha={key:2,class:"p-md-3"},Va=(0,a._)("p",{class:"fw-bold text-white mb-3"}," No users found for the search term ",-1),Ra=[Va],Ya={class:"container",style:{"padding-bottom":"50px"}},Ja={class:"bg-dark border rounded border-0 border-dark overflow-hidden"},Ka={key:0,class:"p-md-3"},Ga=(0,a._)("p",{class:"fw-bold text-white mb-3"}," Posts found for the search term are as follows: ",-1),Qa=[Ga],Xa={key:1},ti={key:2,class:"p-md-3"},ei=(0,a._)("p",{class:"fw-bold text-white mb-3"}," No Posts found for the search term ",-1),si=[ei];function oi(t,e,s,o,i,l){const r=(0,a.up)("SearchUser"),n=(0,a.up)("SearchPost");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Ba,[(0,a._)("div",La,[this.boolUsers?((0,a.wg)(),(0,a.iD)("div",Ta,Ma)):(0,a.kq)("",!0),this.boolUsers?((0,a.wg)(),(0,a.iD)("div",Wa,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.compUsers,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(r,{user:t},null,8,["user"])])))),128))])):(0,a.kq)("",!0),this.boolUsers?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Ha,Ra))])]),(0,a._)("div",Ya,[(0,a._)("div",Ja,[this.boolPosts?((0,a.wg)(),(0,a.iD)("div",Ka,Qa)):(0,a.kq)("",!0),this.boolPosts?((0,a.wg)(),(0,a.iD)("div",Xa,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.compPosts,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(n,{post:t},null,8,["post"])])))),128))])):(0,a.kq)("",!0),this.boolPosts?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",ti,si))])])],64)}const ai={class:"row g-0"},ii={class:"col-md-6 order-first order-md-last",style:{"min-height":"250px"}},li={class:"text-white p-4 p-md-5"},ri={class:"fw-bold text-white mb-3"},ni={class:"mb-2"},ci={class:"col-md-6"},di=["src"];function ui(t,e,s,o,l,r){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",ai,[(0,a._)("div",ii,[(0,a._)("div",li,[(0,a._)("h2",ri,(0,i.zw)(this.post.title),1),(0,a._)("p",ni,(0,i.zw)(this.post.text.slice(0,120)+"..."),1),(0,a._)("span",null,[(0,a.Wm)(n,{to:{name:"post",params:{id:s.post.roll}}},{default:(0,a.w5)((()=>[(0,a.Uk)("Read More")])),_:1},8,["to"])])])]),(0,a._)("div",ci,[(0,a._)("img",{alt:"Post Image",class:"w-100 d-block",style:{"object-fit":"cover",height:"320px"},src:this.postImg},null,8,di)])])}var pi={name:"SearchPost",props:{post:{type:Object,required:!0}},computed:{postImg(){return this.post?"http://192.168.1.8:2345/static/img/Posts/"+this.post.img+".webp":s(3031)}}};const hi=(0,$.Z)(pi,[["render",ui]]);var mi=hi;const gi={class:"row g-0"},wi={class:"col-md-6 order-first order-md-last",style:{"min-height":"250px"}},bi={class:"text-white p-4 p-md-5"},fi={class:"fw-bold text-white mb-3"},vi={class:"mb-2"},yi={class:"mb-2"},ki={class:"mb-2"},_i={class:"my-3"},xi={class:"col-md-6"},Di=["src"];function Si(t,e,s,o,l,r){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",gi,[(0,a._)("div",wi,[(0,a._)("div",bi,[(0,a._)("h2",fi,(0,i.zw)(this.user.username),1),(0,a._)("p",vi,"Articles written: "+(0,i.zw)(this.user.articles),1),(0,a._)("p",yi,"Followers: "+(0,i.zw)(this.user.followers),1),(0,a._)("p",ki,"Following: "+(0,i.zw)(this.user.follows),1),(0,a._)("div",_i,[(0,a.Wm)(n,{class:"btn btn-primary btn-lg me-2",role:"button",to:this.accountUrl},{default:(0,a.w5)((()=>[(0,a.Uk)("Profile")])),_:1},8,["to"])])])]),(0,a._)("div",xi,[(0,a._)("img",{alt:"User Image",class:"w-100 d-block",style:{height:"320px","object-fit":"cover"},src:this.userImg},null,8,Di)])])}var Ui={name:"SearchUser",props:{user:{type:Object,required:!0}},computed:{accountUrl(){return"/account/"+this.user.username},userImg(){return this.user?"http://192.168.1.8:2345/static/img/Users/"+this.user.img+".webp":s(162)}}};const Ai=(0,$.Z)(Ui,[["render",Si]]);var Pi=Ai,Ci={name:"SearchView",components:{SearchPost:mi,SearchUser:Pi},data(){return{term:this.$route.params.term,users:null,posts:null}},methods:{async fetchData(){await C.Z.get("http://192.168.1.8:2345/vueapp/search="+this.term).then((t=>t)).then((t=>t.data)).then((t=>{this.users=t.users,this.posts=t.posts})).catch((()=>{})),this.$forceUpdate()}},computed:{boolUsers(){return!!this.users&&this.users.length>0},boolPosts(){return!!this.posts&&this.posts.length>0},compUsers(){return this.users},compPosts(){return this.posts}},async beforeMount(){this.fetchData()},mounted(){document.title="Search"}};const Zi=(0,$.Z)(Ci,[["render",oi]]);var Fi=Zi;const Ii={class:"container",style:{"padding-top":"44px"}},qi={class:"bg-dark border rounded border-0 border-dark overflow-hidden",style:{"padding-bottom":"0px","margin-bottom":"64px"}},zi={class:"p-md-3"},$i={class:"fw text-white mb-2"};function ji(t,e,s,o,l,r){const n=(0,a.up)("SearchUser");return(0,a.wg)(),(0,a.iD)("div",Ii,[(0,a._)("div",qi,[(0,a._)("div",zi,[(0,a._)("h3",$i,(0,i.zw)(this.user)+"'s "+(0,i.zw)(this.state)+":",1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.compFollows,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(n,{user:t},null,8,["user"])])))),128))])])}var Ni={name:"FollowView",components:{SearchUser:Pi},data(){return{state:this.$route.matched[0].name,user:this.$route.params.user,follows:null}},methods:{async fetchData(){await C.Z.get("http://192.168.1.8:2345/vueapp/"+this.user+"/"+this.state).then((t=>t)).then((t=>t.data)).then((t=>{this.follows=t})).catch((()=>{})),this.$forceUpdate()}},computed:{compFollows(){return this.follows}},async beforeMount(){this.fetchData()},mounted(){document.title="follows"==this.state?"Follows":"Followers"}};const Oi=(0,$.Z)(Ni,[["render",ji]]);var Bi=Oi;const Li={class:"container py-4 py-xl-5"},Ti={class:"row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3"},Ei={class:"col-md-12 col-xl-12"},Mi={class:"py-4 d-flex"},Wi={class:"row"},Hi={class:"btn-group",role:"group",style:{"padding-top":"15px","padding-left":"30px","padding-bottom":"15px"}},Vi={key:0,class:"text-center btn btn-success btn-lg me-2 disabled",type:"submit"},Ri=["src"],Yi={class:"py-4 d-flex"},Ji=["src"],Ki={class:"py-4 d-flex"},Gi=["src"];function Qi(t,e,s,o,l,r){return(0,a.wg)(),(0,a.iD)("div",Li,[(0,a._)("div",Ti,[(0,a._)("div",Ei,[(0,a._)("div",null,[(0,a._)("div",Mi,[(0,a._)("div",null,[(0,a._)("h4",null,(0,i.zw)(this.user)+"'s Analytics",1),(0,a._)("p",null," The chart below shows the views received by evey post "+(0,i.zw)(this.user)+". ",1)]),(0,a._)("div",Wi,[(0,a._)("div",Hi,[this.success?((0,a.wg)(),(0,a.iD)("button",Vi," Successfully Exported! ")):((0,a.wg)(),(0,a.iD)("button",{key:1,class:"text-center btn btn-primary btn-lg me-2",type:"submit",onClick:e[0]||(e[0]=(...t)=>r.export_data&&r.export_data(...t))}," Email Data as CSV "))])])]),(0,a._)("img",{alt:"Analytics Image",class:"rounded img-fluid d-block w-100 border border-dark rounded",style:{height:"100%","object-fit":"cover"},src:r.compViewsImg},null,8,Ri),(0,a._)("div",Yi,[(0,a._)("div",null,[(0,a._)("p",null," The charts shows the likes received by evey post from "+(0,i.zw)(this.user)+". ",1)])]),(0,a._)("img",{alt:"Analytics Image",class:"rounded img-fluid d-block w-100 border border-dark rounded",style:{height:"100%","object-fit":"cover"},src:r.compLikesImg},null,8,Ji),(0,a._)("div",Ki,[(0,a._)("div",null,[(0,a._)("p",null," The charts shows the number of comments received by evey post from "+(0,i.zw)(this.user)+". ",1)])]),(0,a._)("img",{alt:"Analytics Image",class:"rounded img-fluid d-block w-100 border border-dark rounded",style:{height:"100%","object-fit":"cover"},src:r.compCommentsImg},null,8,Gi)])])])])}var Xi={name:"AnalyticsView",data(){return{user:this.$route.params.user,userSession:JSON.parse(localStorage.getItem("userSession"))||null,success:!1}},methods:{async fetchData(){this.userSession&&(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,await C.Z.get("http://192.168.1.8:2345/vueapp/analytics").catch((()=>{}))),this.success=!1,this.$forceUpdate()},export_data(){this.userSession&&(C.Z.defaults.headers.common.Authorization=`Bearer ${this.userSession.token}`,C.Z.get("http://192.168.1.8:2345/vueapp/analytics/export_data").catch((()=>{})),this.success=!0)}},computed:{apiToken(){return this.userSession?this.userSession.token:""},compViewsImg(){return"http://192.168.1.8:2345/static/img/Analytics/"+this.user+"/Views.png"},compLikesImg(){return"http://192.168.1.8:2345/static/img/Analytics/"+this.user+"/Likes.png"},compCommentsImg(){return"http://192.168.1.8:2345/static/img/Analytics/"+this.user+"/Comments.png"}},async beforeMount(){this.fetchData()},mounted(){document.title="Analytics"}};const tl=(0,$.Z)(Xi,[["render",Qi]]);var el=tl;const sl={class:"container py-4 py-xl-5"},ol=(0,a._)("div",{class:"row mb-5"},[(0,a._)("div",{class:"col-md-8 col-xl-6 text-center mx-auto"},[(0,a._)("h2",null,"404 Not Found"),(0,a._)("p",null,"Sorry, the page you requested could not be found.")])],-1),al=[ol];function il(t,e,s,o,i,l){return(0,a.wg)(),(0,a.iD)("div",sl,al)}var ll={name:"NotFoundView"};const rl=(0,$.Z)(ll,[["render",il]]);var nl=rl;function cl(){const t=localStorage.getItem("userSession");return null!==t}const dl=[{path:"/",name:"home",component:_t},{path:"/account/:user/follows",name:"follows",component:Bi,meta:{requiresAuth:!0}},{path:"/account/:user/analytics",name:"analytics",component:el,meta:{requiresAuth:!0}},{path:"/account/:user/followers",name:"followers",component:Bi,meta:{requiresAuth:!0}},{path:"/search=:term",name:"search",component:Fi,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:Yt},{path:"/post/:id",name:"post",component:Se},{path:"/edit/post/:id",name:"blogEdit",component:Oa,meta:{requiresAuth:!0}},{path:"/account/:name",name:"account",component:Uo},{path:"/upload",name:"upload",component:aa,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"notfound",component:nl}],ul=(0,E.p7)({history:(0,E.PO)("/"),routes:dl});ul.beforeEach(((t,e,s)=>{t.meta.requiresAuth&&!cl()?s({name:"login"}):s()}));var pl=ul;(0,o.ri)(L).use(pl).mount("#app")},162:function(t,e,s){t.exports=s.p+"img/0.2c30ad06.webp"},3031:function(t){t.exports="data:image/webp;base64,UklGRqIDAABXRUJQVlA4IJYDAADwUQCdASrtAYcBPpFInkslpCKhpRbIoLASCWlu4XXl7mNwr1UX/YZ3/CICpHy7s5NaxutY3WsbrWN1rGq1cGi68gFya1jdaxutY3WsbrEKO8gFya1jdaxutY3WsbrEKO8gFya1KTrq8IwYWEzEDgpapLk1rG61h+Ms/UEPpkjQhenSYJQRTlDRZfGjALk1rD8ZZ+oIfTQ4/CkXTYl0VD6gh9QQ+S55FaxutTeyTDprDYTLGAAuTWsa0zKdJr06MmX638m7BPIAUMG2Xp04ZepWfqCH0zpuJuy1+50kAJPZXWkNsvTpw0XjCck6cNF/2Qu5l/0CvGuf8mjoRE2440EPqCHQhsGXp04aMHXe3i18LcsHJkM6CMCAXJrEKO8gFya1jdaw6eBqiUJJQOeIwbhw0X/Qb3kAuTNJCeMGjAKDFggJhgdbpC4dlejTWsa0zKdJr0GEwXeOsRxsArnLJ010xsrrNa9BLCuEIQAJEApK5RWsa3AsDaOcKEZedDe6m3Tn75hPYPzUEOTSDn+EuMxJb3GWfqB+bEIqm4otOHxpz4aCRGjBE1q794htkx22G5uY/PpNdZ6oMvQSkedkLJrAu6IHNRKWzzRD6gfmmwrjqh1aw/GWfqAEQhDlKGk16dOGjALdy9B975kMvUrP0ylK00K8zXCSxutY3WsNbo0IR2ZZvbb+7VSUAF92TQU6TXp04aMAuRTaO2ggmm68qSTEqrF5XaxutY3WsbrWNcWRCjPbZlkG947lT3fF8llhZipOMbyWWFmKk4xvJZYWYqTAxNNTThefrqODbL06cNGAXJsjGtMynSa9OnDRgFya1jdaxudl6K9uScuykWxQG++9ezjooDffevZx0UBvvvXs46KA33yGt0oAAP776iD/LlZhAxhxQAE0cBgxGnQ3m3/TFi6mWRHx2EQFL3rSkBeDPaV05a72gwSl1NX5yUzCo1UYDdGeW0xf8b8p9AaCXq6+guse1jbK5pkAbA0m2Z/B8+Dqqra4/G/SwZP0nQ/6SUDZpHR2OBHa0ADlu0KfjD4b6lkruYbtYbdIeDjifh+NfNyk3hZQ+64PBiCqCNJsx/HLthGZVuBclNCN8sL08ouLq+xLALFl4xtcdLHDySYb/8CCEJIUEersWsxsYmsWpxG19wJrNTbpXbbogBIQ/5sBPVPkwWoHjk2DdQKiH9jKrX93o9gkEACeeMzllyUotpSrsCGAAAA="}},e={};function s(o){var a=e[o];if(void 0!==a)return a.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,o,a,i){if(!o){var l=1/0;for(d=0;d<t.length;d++){o=t[d][0],a=t[d][1],i=t[d][2];for(var r=!0,n=0;n<o.length;n++)(!1&i||l>=i)&&Object.keys(s.O).every((function(t){return s.O[t](o[n])}))?o.splice(n--,1):(r=!1,i<l&&(l=i));if(r){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[o,a,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,i,l=o[0],r=o[1],n=o[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(n)var d=n(s)}for(e&&e(o);c<l.length;c++)i=l[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(d)},o=self["webpackChunkblog_lite"]=self["webpackChunkblog_lite"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(4447)}));o=s.O(o)})();
//# sourceMappingURL=app.79ef46e9.js.map